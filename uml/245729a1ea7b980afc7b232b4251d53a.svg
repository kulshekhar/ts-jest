<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1495px" preserveAspectRatio="none" style="width:1239px;height:1495px;" version="1.1" viewBox="0 0 1239 1495" width="1239px" zoomAndPan="magnify"><defs><filter height="300%" id="f11viywf3yvuni" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="343" cy="48.4961" fill="#000000" filter="url(#f11viywf3yvuni)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="270" y="78.4961"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="280" y="100.0977">tsJest.process(source)</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="296.5" y="181.1064"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="306.5" y="202.708">json stringify</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="298,132.6289,388,132.6289,400,144.6289,388,156.6289,298,156.6289,286,144.6289,298,132.6289" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="347" y="167.2637">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="298" y="148.7861">should stringify?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="400" y="142.3086">no</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="343,251.9697,355,263.9697,343,275.9697,331,263.9697,343,251.9697" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="236.6943">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="249.6494">source</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="280.5,295.9697,405.5,295.9697,417.5,307.9697,405.5,319.9697,280.5,319.9697,268.5,307.9697,280.5,295.9697" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="280.5" y="312.127">filename ends with .d.ts</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="250.5" y="305.6494">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="417.5" y="305.6494">no</text><path d="M129,339.9697 L129,356.2803 L109,360.2803 L129,364.2803 L129,380.5908 A0,0 0 0 0 129,380.5908 L271,380.5908 A0,0 0 0 0 271,380.5908 L271,349.9697 L261,339.9697 L129,339.9697 A0,0 0 0 0 129,339.9697 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M261,339.9697 L261,349.9697 L271,349.9697 L261,339.9697 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="135" y="357.5381">no need to compile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="135" y="372.8486">definition files</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="20" y="343.2139"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="30" y="364.8154">wipe source</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="343,1013.1367,355,1025.1367,343,1037.1367,331,1025.1367,343,1013.1367" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="355" y="1009.8613">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="355" y="1022.8164">source</text><path d="M119.5,1105.6143 L119.5,1146.2354 A0,0 0 0 0 119.5,1146.2354 L238.5,1146.2354 A0,0 0 0 0 238.5,1146.2354 L238.5,1129.9248 L258.5,1125.9248 L238.5,1121.9248 L238.5,1115.6143 L228.5,1105.6143 L119.5,1105.6143 A0,0 0 0 0 119.5,1105.6143 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M228.5,1105.6143 L228.5,1115.6143 L238.5,1115.6143 L228.5,1105.6143 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="125.5" y="1123.1826">calls babel-jest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="125.5" y="1138.4932">processor</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="258.5" y="1108.8584"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="268.5" y="1130.46">babelJest.process(source)</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="295,1057.1367,391,1057.1367,403,1069.1367,391,1081.1367,295,1081.1367,283,1069.1367,295,1057.1367" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="347" y="1091.7715">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="295" y="1073.2939">should use babel?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="403" y="1066.8164">no</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="343,1182.9658,355,1194.9658,343,1206.9658,331,1194.9658,343,1182.9658" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="1167.6904">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="1180.6455">source</text><path d="M106,1273.1006 L106,1329.0322 A0,0 0 0 0 106,1329.0322 L250,1329.0322 A0,0 0 0 0 250,1329.0322 L250,1305.0664 L270,1301.0664 L250,1297.0664 L250,1283.1006 L240,1273.1006 L106,1273.1006 A0,0 0 0 0 106,1273.1006 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M240,1273.1006 L240,1283.1006 L250,1283.1006 L240,1273.1006 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="112" y="1290.6689">if the hook returns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="112" y="1305.9795">something it'll be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="112" y="1321.29">used as new source</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="270" y="1284"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="280" y="1305.6016">call afterProcess hook</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="281,1226.9658,405,1226.9658,417,1238.9658,405,1250.9658,281,1250.9658,269,1238.9658,281,1226.9658" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="347" y="1261.6006">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="281" y="1243.123">has afterProcess hook?</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="343,1365.7627,355,1377.7627,343,1389.7627,331,1377.7627,343,1365.7627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="1350.4873">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="1363.4424">source</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="276.5" y="1409.7627"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="113" x="286.5" y="1431.3643">transformed source</text><ellipse cx="343" cy="1473.8955" fill="#FFFFFF" filter="url(#f11viywf3yvuni)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="336.8128" x2="349.1872" y1="1467.7083" y2="1480.0827"/><line style="stroke: #000000; stroke-width: 2.5;" x1="349.1872" x2="336.8128" y1="1467.7083" y2="1480.0827"/><rect fill="#D8BFD8" height="1471.5986" style="stroke: #D8BFD8; stroke-width: 1.0;" width="776" x="451.5" y="12.2969"/><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="702.5" y="388.4473"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="712.5" y="410.0488">create and cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="712.5" y="424.1816">ts lang service</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="714,339.9697,810,339.9697,822,351.9697,810,363.9697,714,363.9697,702,351.9697,714,339.9697" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="766" y="374.6045">no</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="714" y="356.127">isolated modules?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="822" y="349.6494">yes</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="762,456.7129,774,468.7129,762,480.7129,750,468.7129,762,456.7129" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="709,521.9883,815,521.9883,827,533.9883,815,545.9883,709,545.9883,697,533.9883,709,521.9883" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="709" y="538.1455">in persistent cache?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="679" y="531.668">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="827" y="531.668">no</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="461.5" y="555.9883"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="471.5" y="577.5898">update mem cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="471.5" y="591.7227">from persistent cache</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="962,555.9883,1058,555.9883,1070,567.9883,1058,579.9883,962,579.9883,950,567.9883,962,555.9883" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="962" y="572.1455">isolated modules?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="932" y="565.668">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1070" y="565.668">no</text><path d="M616.5,593.8105 L616.5,634.4316 A0,0 0 0 0 616.5,634.4316 L771.5,634.4316 A0,0 0 0 0 771.5,634.4316 L771.5,618.1211 L791.5,614.1211 L771.5,610.1211 L771.5,603.8105 L761.5,593.8105 L616.5,593.8105 A0,0 0 0 0 616.5,593.8105 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M761.5,593.8105 L761.5,603.8105 L771.5,603.8105 L761.5,593.8105 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="622.5" y="611.3789">files will be compiled</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="622.5" y="626.6895">as isolated modules</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="791.5" y="589.9883"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="801.5" y="611.5898">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="801.5" y="625.7227">transpileModule</text><path d="M923.5,589.9883 L923.5,676.541 A0,0 0 0 0 923.5,676.541 L1106.5,676.541 A0,0 0 0 0 1106.5,676.541 L1106.5,637.2646 L1126.5,633.2646 L1106.5,629.2646 L1106.5,599.9883 L1096.5,589.9883 L923.5,589.9883 A0,0 0 0 0 923.5,589.9883 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1096.5,589.9883 L1096.5,599.9883 L1106.5,599.9883 L1096.5,589.9883 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="929.5" y="607.5566">make use of the service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="929.5" y="622.8672">created above and cached</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="933.5" y="638.1777"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="929.5" y="653.4883">mem cache is used when</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="929.5" y="668.7988">reading files</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="1126.5" y="609.1318"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1136.5" y="630.7334">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="1136.5" y="644.8662">service</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="1010,682.541,1022,694.541,1010,706.541,998,694.541,1010,682.541" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M735,716.541 L735,787.7832 A0,0 0 0 0 735,787.7832 L943,787.7832 A0,0 0 0 0 943,787.7832 L943,756.1621 L963,752.1621 L943,748.1621 L943,726.541 L933,716.541 L735,716.541 A0,0 0 0 0 735,716.541 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M933,716.541 L933,726.541 L943,726.541 L933,716.541 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="741" y="734.1094">here is where hoisting of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="741" y="749.4199">jest.mock is done, as well as</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="741" y="764.7305">user-defined transformations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="741" y="780.041">based on config</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="963" y="728.0293"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="973" y="749.6309">custom AST</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="973" y="763.7637">transformers</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="954" y="830.7383"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="964" y="852.3398">fix source maps</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="944.5" y="884.8711"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="954.5" y="906.4727">update mem cache</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="930.5" y="939.0039"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="940.5" y="960.6055">update persistent cache</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="762,979.1367,774,991.1367,762,1003.1367,750,991.1367,762,979.1367" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="58.4961" y2="78.4961"/><polygon fill="#A80036" points="339,68.4961,343,78.4961,347,68.4961,343,72.4961" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="156.6289" y2="181.1064"/><polygon fill="#A80036" points="339,171.1064,343,181.1064,347,171.1064,343,175.1064" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="400" x2="412" y1="144.6289" y2="144.6289"/><polygon fill="#A80036" points="408,201.1279,412,211.1279,416,201.1279,412,205.1279" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="412" x2="412" y1="144.6289" y2="263.9697"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="412" x2="355" y1="263.9697" y2="263.9697"/><polygon fill="#A80036" points="365,259.9697,355,263.9697,365,267.9697,361,263.9697" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="215.2393" y2="251.9697"/><polygon fill="#A80036" points="339,241.9697,343,251.9697,347,241.9697,343,245.9697" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="112.6289" y2="132.6289"/><polygon fill="#A80036" points="339,122.6289,343,132.6289,347,122.6289,343,126.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.5" x2="64.5" y1="307.9697" y2="307.9697"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="64.5" y1="307.9697" y2="343.2139"/><polygon fill="#A80036" points="60.5,333.2139,64.5,343.2139,68.5,333.2139,64.5,337.2139" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="64.5" y1="377.3467" y2="1025.1367"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="331" y1="1025.1367" y2="1025.1367"/><polygon fill="#A80036" points="321,1021.1367,331,1025.1367,321,1029.1367,325,1025.1367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="275.9697" y2="295.9697"/><polygon fill="#A80036" points="339,285.9697,343,295.9697,347,285.9697,343,289.9697" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1081.1367" y2="1108.8584"/><polygon fill="#A80036" points="339,1098.8584,343,1108.8584,347,1098.8584,343,1102.8584" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403" x2="437.5" y1="1069.1367" y2="1069.1367"/><polygon fill="#A80036" points="433.5,1128.8799,437.5,1138.8799,441.5,1128.8799,437.5,1132.8799" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="437.5" x2="437.5" y1="1069.1367" y2="1194.9658"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="437.5" x2="355" y1="1194.9658" y2="1194.9658"/><polygon fill="#A80036" points="365,1190.9658,355,1194.9658,365,1198.9658,361,1194.9658" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1142.9912" y2="1182.9658"/><polygon fill="#A80036" points="339,1172.9658,343,1182.9658,347,1172.9658,343,1176.9658" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1037.1367" y2="1057.1367"/><polygon fill="#A80036" points="339,1047.1367,343,1057.1367,347,1047.1367,343,1051.1367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1250.9658" y2="1284"/><polygon fill="#A80036" points="339,1274,343,1284,347,1274,343,1278" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="417" x2="429" y1="1238.9658" y2="1238.9658"/><polygon fill="#A80036" points="425,1304.0215,429,1314.0215,433,1304.0215,429,1308.0215" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="429" x2="429" y1="1238.9658" y2="1377.7627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="429" x2="355" y1="1377.7627" y2="1377.7627"/><polygon fill="#A80036" points="365,1373.7627,355,1377.7627,365,1381.7627,361,1377.7627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1318.1328" y2="1365.7627"/><polygon fill="#A80036" points="339,1355.7627,343,1365.7627,347,1355.7627,343,1359.7627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1206.9658" y2="1226.9658"/><polygon fill="#A80036" points="339,1216.9658,343,1226.9658,347,1216.9658,343,1220.9658" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1389.7627" y2="1409.7627"/><polygon fill="#A80036" points="339,1399.7627,343,1409.7627,347,1399.7627,343,1403.7627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1443.8955" y2="1463.8955"/><polygon fill="#A80036" points="339,1453.8955,343,1463.8955,347,1453.8955,343,1457.8955" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="762" x2="762" y1="363.9697" y2="388.4473"/><polygon fill="#A80036" points="758,378.4473,762,388.4473,766,378.4473,762,382.4473" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="822" x2="834" y1="351.9697" y2="351.9697"/><polygon fill="#A80036" points="830,402.5801,834,412.5801,838,402.5801,834,406.5801" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="834" x2="834" y1="351.9697" y2="468.7129"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="834" x2="774" y1="468.7129" y2="468.7129"/><polygon fill="#A80036" points="784,464.7129,774,468.7129,784,472.7129,780,468.7129" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="762" x2="762" y1="436.7129" y2="456.7129"/><polygon fill="#A80036" points="758,446.7129,762,456.7129,766,446.7129,762,450.7129" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="950" x2="847.5" y1="567.9883" y2="567.9883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="847.5" x2="847.5" y1="567.9883" y2="589.9883"/><polygon fill="#A80036" points="843.5,579.9883,847.5,589.9883,851.5,579.9883,847.5,583.9883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1070" x2="1172.5" y1="567.9883" y2="567.9883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1172.5" x2="1172.5" y1="567.9883" y2="609.1318"/><polygon fill="#A80036" points="1168.5,599.1318,1172.5,609.1318,1176.5,599.1318,1172.5,603.1318" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="847.5" x2="847.5" y1="638.2539" y2="694.541"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="847.5" x2="998" y1="694.541" y2="694.541"/><polygon fill="#A80036" points="988,690.541,998,694.541,988,698.541,992,694.541" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1172.5" x2="1172.5" y1="657.3975" y2="694.541"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1172.5" x2="1022" y1="694.541" y2="694.541"/><polygon fill="#A80036" points="1032,690.541,1022,694.541,1032,698.541,1028,694.541" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1010" x2="1010" y1="706.541" y2="728.0293"/><polygon fill="#A80036" points="1006,718.0293,1010,728.0293,1014,718.0293,1010,722.0293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1010" x2="1010" y1="776.2949" y2="830.7383"/><polygon fill="#A80036" points="1006,820.7383,1010,830.7383,1014,820.7383,1010,824.7383" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="1014" y="809.2383">compiled source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1010" x2="1010" y1="864.8711" y2="884.8711"/><polygon fill="#A80036" points="1006,874.8711,1010,884.8711,1014,874.8711,1010,878.8711" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1010" x2="1010" y1="919.0039" y2="939.0039"/><polygon fill="#A80036" points="1006,929.0039,1010,939.0039,1014,929.0039,1010,933.0039" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="697" x2="534" y1="533.9883" y2="533.9883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="534" x2="534" y1="533.9883" y2="555.9883"/><polygon fill="#A80036" points="530,545.9883,534,555.9883,538,545.9883,534,549.9883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="827" x2="1010" y1="533.9883" y2="533.9883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1010" x2="1010" y1="533.9883" y2="555.9883"/><polygon fill="#A80036" points="1006,545.9883,1010,555.9883,1014,545.9883,1010,549.9883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="534" x2="534" y1="604.2539" y2="991.1367"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="534" x2="750" y1="991.1367" y2="991.1367"/><polygon fill="#A80036" points="740,987.1367,750,991.1367,740,995.1367,744,991.1367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1010" x2="1010" y1="973.1367" y2="991.1367"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1010" x2="774" y1="991.1367" y2="991.1367"/><polygon fill="#A80036" points="784,987.1367,774,991.1367,784,995.1367,780,991.1367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="762" x2="762" y1="480.7129" y2="521.9883"/><polygon fill="#A80036" points="758,511.9883,762,521.9883,766,511.9883,762,515.9883" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="766" y="502.168">source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="417.5" x2="762" y1="307.9697" y2="307.9697"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="762" x2="762" y1="307.9697" y2="339.9697"/><polygon fill="#A80036" points="758,329.9697,762,339.9697,766,329.9697,762,333.9697" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="762" x2="762" y1="1003.1367" y2="1025.1367"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="762" x2="355" y1="1025.1367" y2="1025.1367"/><polygon fill="#A80036" points="365,1021.1367,355,1025.1367,365,1029.1367,361,1025.1367" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="84" x="193.75" y="29.6992">processor</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="153" x="753" y="29.6992">compiler (cached)</text><line style="stroke: #000000; stroke-width: 2.0;" x1="10" x2="10" y1="12.2969" y2="1483.8955"/><line style="stroke: #000000; stroke-width: 2.0;" x1="451.5" x2="451.5" y1="12.2969" y2="1483.8955"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1227.5" x2="1227.5" y1="12.2969" y2="1483.8955"/><!--MD5=[26d5c1bf13a0a67a3e1b9efaf09c1cea]
@startuml


|processor|
start

:tsJest.process(source);

if (should stringify?) then (yes)
  :json stringify;
  -> update
  source;

else (no)
endif

if (filename ends with .d.ts) then (yes)
  :wipe source;
  note right
    no need to compile
    definition files
  end note

else (no)

  |#Thistle|compiler (cached)|
  if (isolated modules?) then (yes)
  else (no)
    :create and cache
    ts lang service;
  endif

  -> source;

  if (in persistent cache?) then (yes)
    :update mem cache
    from persistent cache;

  else (no)
    if (isolated modules?) then (yes)
      :compile with
      transpileModule;
      note left
        files will be compiled
        as isolated modules
      end note

    else (no)
      :compile with
      service;
      note left
        make use of the service
        created above and cached

        mem cache is used when
        reading files
      end note

    endif

    :custom AST
    transformers;
    note left
      here is where hoisting of
      jest.mock is done, as well as
      user-defined transformations
      based on config
    end note

    -> compiled source;

    :fix source maps;
    :update mem cache;
    :update persistent cache;

  endif
  |processor|

  -> update
  source;

endif

if (should use babel?) then (yes)
  :babelJest.process(source);
  note left
    calls babel-jest
    processor
  end note
  -> update
  source;

else (no)
endif

if (has afterProcess hook?) then (yes)
  :call afterProcess hook;
  -> update
  source;
  note left
    if the hook returns
    something it'll be
    used as new source
  end note

endif

:transformed source;

end


@enduml

PlantUML version 1.2020.05(Fri Mar 20 02:47:32 IST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 13.0.2+8
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: IN
--></g></svg>